(this["webpackJsonpwelcome-landmark"]=this["webpackJsonpwelcome-landmark"]||[]).push([[0],{31:function(e,t,n){e.exports=n(45)},45:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(23),l=n.n(o),i=n(8),c=n(19),u=n.n(c),s=n(24),d=function(e,t){var n=Object(a.useState)(t),r=Object(i.a)(n,2),o=r[0],l=r[1],c=Object(a.useState)(e),d=Object(i.a)(c,2),f=d[0],m=(d[1],Object(a.useState)(!1)),p=Object(i.a)(m,2),g=p[0],b=p[1],h=Object(a.useState)(!1),v=Object(i.a)(h,2),E=v[0],j=v[1];return Object(a.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!1),b(!0),e.prev=2,e.next=5,fetch(f);case 5:return t=e.sent,e.next=8,t.json();case 8:n=e.sent,l(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),j(!0);case 15:b(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}})()()}),[f]),{data:o,isLoading:g,isError:E}},f=n(28),m=n(11),p=(n(40),n(59)),g=function(e,t){return[{id:1,latitude:(e+.01)%90,longitude:t%180,info:"1"},{id:2,latitude:(e-.01)%90,longitude:t%180,info:"2"},{id:3,latitude:(e+.011)%90,longitude:t%180,info:"3"},{id:4,latitude:(e+.012)%90,longitude:t%180,info:"4"},{id:5,latitude:(e+.05)%90,longitude:(t-.05)%180,info:"5"},{id:6,latitude:(e+.06)%90,longitude:(t-.05)%180,info:"6"},{id:7,latitude:(e-.07)%90,longitude:t%180,info:"7"},{id:8,latitude:(e-.071)%90,longitude:t%180,info:"8"},{id:9,latitude:(e+.07)%90,longitude:(t+.01)%180,info:"9"},{id:10,latitude:(e+.07)%90,longitude:(t+.011)%180,info:"10"}]},b=n(26),h=n.n(b),v=n(57),E=Object(v.a)({marker:{transform:"translate(0, 0)",color:"red"},currentUserMarker:{position:"relative",cursor:"pointer",outline:"none","& svg":{fill:"#ff5555"}},otherUserMarker:{position:"relative",cursor:"pointer",outline:"none","& svg":{fill:"#5555ff"}},popup:{maxWidth:"70%",transform:"none","& h2":{fontSize:14,margin:"0 0 10px 0"},"& p":{fontSize:12,margin:0}}}),j=function(e){var t=e.lat,n=e.long,o=e.id,l=e.info,c=e.isCurrent,u=E(),s=Object(a.useState)(!0),d=Object(i.a)(s,2),f=d[0],p=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.c,{key:o,longitude:n,latitude:t,offsetLeft:-13,offsetTop:5},r.a.createElement("div",{className:c?u.currentUserMarker:u.otherUserMarker,onClick:function(){return p(!0)},onKeyDown:function(){return p(!0)},role:"button",tabIndex:0},r.a.createElement(h.a,null))),f&&r.a.createElement(m.d,{offsetLeft:0,offsetTop:0,latitude:t,longitude:n,onClose:function(){return p(!1)},closeOnClick:!1,closeButton:!0,anchor:"right",className:u.popup},r.a.createElement("div",null,r.a.createElement("h2",null,o),r.a.createElement("p",null,l))))},O=j;j.defaultProps={lat:0,long:0,id:0,info:"",isCurrent:!1};var k={position:"absolute",top:0,left:0,margin:10},y=function(e){var t=e.lat,n=e.long,o=e.mapTheme,l=Object(a.useState)({width:"100%",height:"400px",latitude:t,longitude:n,zoom:8,bearing:0,pitch:0}),c=Object(i.a)(l,2),u=c[0],s=c[1],d=g(t,n);return console.log(t,n),console.log(u.width),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.e,Object.assign({},u,{onViewportChange:s,mapboxApiAccessToken:"pk.eyJ1IjoiYXlrdWxpIiwiYSI6ImNrM2pybXF5MjA0OWczcG14ZzdxNXBlYmMifQ.tYv6CcePP02kbiXAJ-p_Mw",mapStyle:"mapbox://styles/mapbox/".concat(o)}),r.a.createElement(O,{lat:t,long:n,id:0,info:"Current User",isCurrent:!0}),d.map((function(e){var t=e.id,n=e.latitude,a=e.longitude,o=e.info;return r.a.createElement(O,{key:t,lat:n,long:a,id:t,info:o,isCurrent:!1})})),r.a.createElement(m.b,{style:k,positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),r.a.createElement("button",{type:"button",onClick:function(){console.log("viewPort: ",u);var e=Object(f.a)({},u,{longitude:n,latitude:t,zoom:8,transitionDuration:"auto",transitionInterpolator:new m.a,transitionEasing:p.a});s(e)}},"Back to current place"))},w=y;y.defaultProps={lat:0,long:0,mapTheme:"light",place:{city:"",country:""}};var x=function(e){var t=e.buttonText,n=e.toggleTheme;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:n},"Switch to ",t))},S=x;x.defaultProps={buttonText:"light",toggleTheme:function(){}};var C=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)(null),c=Object(i.a)(l,2),u=c[0],s=c[1],f=Object(a.useState)({city:"",country:""}),m=Object(i.a)(f,2),p=m[0],g=m[1],b=d("https://ipinfo.io?token=".concat("abb04b3b63728f"),null),h=b.data,v=b.isLoading,E=b.isError,j=Object(a.useState)("dark"),O=Object(i.a)(j,2),k=O[0],y=O[1],x=Object(a.useState)("streets-v11"),C=Object(i.a)(x,2),T=C[0],M=C[1];Object(a.useEffect)((function(){if(null!==h){o(!0);var e=h.city,t=h.country,n=h.loc;s(n.split(",")),g({city:e,country:t})}}),[h]);return r.a.createElement(r.a.Fragment,null,E&&r.a.createElement("div",null,"Something went wrong..."),v?r.a.createElement("div",null,"Loading current coordinates..."):null,n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement("h5",null,p.city,",",p.country),r.a.createElement("p",null,"lat =",u[0],", long =",u[1])),r.a.createElement("div",null,r.a.createElement(S,{buttonText:k,toggleTheme:function(){y("light"===k?"dark":"light"),M("dark-v9"===T?"streets-v11":"dark-v9")}}))),r.a.createElement(w,{lat:Number(u[0]),long:Number(u[1]),mapTheme:T,place:p})):null)};l.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.8fae91bf.chunk.js.map